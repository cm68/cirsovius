<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/BASIC/BASIC.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:31 GMT -->
<head><title>BASIC-Routinen</title></head>

<body  background="../../code.gif">

<div align="center">
<h1>BASIC-Routinen</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">

Die hier vorgestellten Routinen sind solche f&uuml;r die Verabeitung von Routinen, die an die Sprache BASIC angelehnt sind:

<table>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td valign="top">Modul-<i>Entry</i></td>
  <td valign="top" colspan="2"><b>B:</b> Beschreibung, <b>I:</b> Eingabe-, <b>O:</b> Ausgabeparameter</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="MID-MAC.txt">MID.MAC</a></td>
</tr>
<tr>
  <td valign="top">@MID</td>
  <td valign="top">B:</td>
  <td valign="top">Teil einer Zeichenkette laden</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Originalzeichenkette, Registerpaar DE zeigt auf neue Kette, Register C weist auf die Startposition und Register B h&auml;lt die Anzahl zu ladender Zeichen. Ist Register B Null, so werden alle Zeichen bis zum Ende geladen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Bei gesetzter Carry Flag liegt ein Fehler vor, das Register C weist auf eine Position, die gr&ouml;&szlig;er ist als die L&auml;nge der Zeichenkette.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="LEFT-MAC.txt">LEFT.MAC</a></td>
</tr>
<tr>
  <td valign="top">@LEFT</td>
  <td valign="top">B:</td>
  <td valign="top">Linken Teil einer Zeichenkette laden</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Originalzeichenkette, Registerpaar DE zeigt auf neue Kette, Register B h&auml;lt die Anzahl zu ladender Zeichen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Neue Zeichenkette ist mit Teilzeichenkette gef&uuml;llt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="RIGHT-MAC.txt">RIGHT.MAC</a></td>
</tr>
<tr>
  <td valign="top">@RIGHT</td>
  <td valign="top">B:</td>
  <td valign="top">Rechten Teil einer Zeichenkette laden</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Originalzeichenkette, Registerpaar DE zeigt auf neue Kette, Register B h&auml;lt die Anzahl zu ladender Zeichen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Neue Zeichenkette ist mit Teilzeichenkette gef&uuml;llt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INSTR-MAC.txt">INSTR.MAC</a></td>
</tr>
<tr>
  <td valign="top">@INSTR</td>
  <td valign="top">B:</td>
  <td valign="top">Suchen einer Teilzeichenkette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Zeichenkette, in der gesucht werden soll, Registerpaar DE zeigt auf zu suchende Kette. Register C h&auml;lt Startposition in der Suchkette. Ist C Null, so wird mit dem ersten Zeichen begonnen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register B h&auml;lt die Position der zu suchenden Kette und die Zero Flag ist gesetzt. Bei nicht gesetzter Zero Flag, ist die zu suchende Kette nicht gefunden worden.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="STRNG-MAC.txt">STRNG.MAC</a></td>
</tr>
<tr>
  <td valign="top">@STRNG</td>
  <td valign="top">B:</td>
  <td valign="top">Zeichenkette aus bestimmten Zeichen erzeugen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf Zeichenkette, Register B h&auml;lt das konstante Zeichen und Register C h&auml;lt die L&auml;nge der Zeichen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zeichenkette mit konstanten Zeichen gef&uuml;llt. Das Registerpaar DE zeigt auf die abschlie&szlig;ende Null</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="ASSTR-MAC.txt">ASSTR.MAC</a></td>
</tr>
<tr>
  <td valign="top">@ASSTR</td>
  <td valign="top">B:</td>
  <td valign="top">Zuweisung einer Zeichenkette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Originalkette und Registerpaar DE zeigt auf neue Kette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Originalzeichenkette in neue Kette kopiert. Die Registerpaare DE und HL weisen jeweils hinter die abschlie&szlig;ende Null</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="STRIP-MAC.txt">STRIP.MAC</a></td>
</tr>
<tr>
  <td valign="top">@STRIP</td>
  <td valign="top">B:</td>
  <td valign="top">L&ouml;schen des h&ouml;chstwertigen Bits einer Zeichenkette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf Originalkette und Registerpaar DE zeigt auf neue Kette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">In der neuen Zeichenkette ist bei jedem Zeichen das siebte Bit auf Null gesetzt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="OPENI-MAC.txt">OPENI.MAC</a></td>
</tr>
<tr>
  <td valign="top">@OPENI</td>
  <td valign="top">B:</td>
  <td valign="top">&Ouml;ffnen einer vorhandenen Datei zum Lesen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Das Registerpaar HL zeigt auf eine Zeichenkette, die den Dateinamen, die Extension und eventuell das Laufwerk beinhaltet. Das Registerpaar DE zeigt auf einen File Control Block (FCB), der 36 Bytes lang sein muss. Register C h&auml;lt die Kanalnummer im Bereich 1 bis 15. Falls Register C 0 ist, wird kein Kanal ge&ouml;ffnet sondern nur der FCB.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die gesetzte Carry Flag zeigt einen Fehler an. Hierbei h&auml;lt der Akku folgende Werte:
<table>
<tr><td valign="top">52</td><td>Falsche Kanalnummer (>15)</td></tr>
<tr><td valign="top">53</td><td>Datei ist nicht vorhanden</td></tr>
<tr><td valign="top">55</td><td>Der Kanal ist bereits ge&ouml;ffnet</td></tr>
<tr><td valign="top">65</td><td>Der Dateiname ist fehlerhaft</td></tr>
</table>
</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="OPENO-MAC.txt">OPENO.MAC</a></td>
</tr>
<tr>
  <td valign="top">@OPENO</td>
  <td valign="top">B:</td>
  <td valign="top">&Ouml;ffnen einer neuen Datei zum Schreiben</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Das Registerpaar HL zeigt auf eine Zeichenkette, die den Dateinamen, die Extension und eventuell das Laufwerk beinhaltet. Das Registerpaar DE zeigt auf einen File Control Block (FCB), der 36 Bytes lang sein muss. Register C h&auml;lt die Kanalnummer im Bereich 1 bis 15. Falls Register C 0 ist, wird kein Kanal ge&ouml;ffnet sondern nur der FCB.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die gesetzte Carry Flag zeigt einen Fehler an. Hierbei h&auml;lt der Akku folgende Werte:
<table>
<tr><td valign="top">52</td><td>Falsche Kanalnummer (>15)</td></tr>
<tr><td valign="top">55</td><td>Der Kanal ist bereits ge&ouml;ffnet</td></tr>
<tr><td valign="top">64</td><td>Der Dateiname ist fehlerhaft</td></tr>
<tr><td valign="top">67</td><td>Die Directory ist voll</td></tr>
</table>
</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="KILL-MAC.txt">KILL.MAC</a></td>
</tr>
<tr>
  <td valign="top">@KILL</td>
  <td valign="top">B:</td>
  <td valign="top">L&ouml;schen einer Datei</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Das Registerpaar HL zeigt auf eine Zeichenkette, die den Dateinamen, die Extension und eventuell das Laufwerk beinhaltet.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die gesetzte Carry Flag zeigt einen Fehler an. Hierbei h&auml;lt der Akku folgenden Wert:
<table>
<tr><td valign="top">64</td><td>Der Dateiname ist fehlerhaft</td></tr>
</table>
</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="FIND-MAC.txt">FIND.MAC</a></td>
</tr>
<tr>
  <td valign="top">@FIND</td>
  <td valign="top">B:</td>
  <td valign="top">Suchen einer Datei</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Das Registerpaar HL zeigt auf eine Zeichenkette, die den Dateinamen, die Extension und eventuell das Laufwerk beinhaltet. Das Registerpaar DE zeigt auf die genau 12 Byte lange resultierende Zeichenkette. Register B h&auml;lt eine optionale Zahl, die die Anzahl von Versuchen zum Suchen angibt. Dies ist sinnvoll bei Universalzeichen im Dateinamen.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die gesetzte Carry Flag zeigt einen Fehler an oder dass die gesuchte Datei nicht gefunden wurde. Hierbei h&auml;lt der Akku folgende Werte:
<table>
<tr><td valign="top">0</td><td>Datei wurde nicht gefunden</td></tr>
<tr><td valign="top">64</td><td>Der Dateiname ist fehlerhaft</td></tr>
</table>
Wurde die Datei nicht gefunden, so ist die resultierende Zeichenkette leer. Andernfalls ist diese Kette exakt mit 12 Bytes gef&uuml;llt, das Format ist NNNNNNNN.XXX
</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="FTCFL-MAC.txt">FTCFL.MAC</a></td>
</tr>
<tr>
  <td valign="top">@FTCFL</td>
  <td valign="top">B:</td>
  <td valign="top">Hilfsfunktion zur Dateizuordnung</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Das Registerpaar HL zeigt auf eine Zeichenkette, die den Dateinamen, die Extension und eventuell das Laufwerk beinhaltet. Das Registerpaar DE zeigt auf einen File Control Block (FCB), der 36 Bytes lang sein muss. Register C h&auml;lt die Kanalnummer im Bereich 1 bis 15. Falls Register C 0 ist, wird kein Kanal ge&ouml;ffnet sondern nur der FCB.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Fehlerfall ist die Carryflag gesetzt und der Akku h&auml;lt den Kode 64.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="TSTCH-MAC.txt">TSTCH.MAC</a></td>
</tr>
<tr>
  <td valign="top">@TSTCH</td>
  <td valign="top">B:</td>
  <td valign="top">Hilfsfunktion zur Dateizuordnung</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register C h&auml;lt eine Kanalnummer im Bereich 1 bis 15.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Fehlerfall ist die Carryflag gesetzt und der Akku h&auml;lt den Wert
<table>
<tr><td valign="top">52</td><td>Falsche Kanalnummer (>15)</td></tr>
<tr><td valign="top">55</td><td>Der Kanal ist bereits ge&ouml;ffnet</td></tr>
</table>
</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
</table>

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/BASIC/BASIC.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:31 GMT -->
</html>

