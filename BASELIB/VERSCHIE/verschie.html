<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/VERSCHIE/VERSCHIE.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:33 GMT -->
<head><title>Hilfs-Routinen</title></head>

<body  background="../../code.gif">

<div align="center">
<h1>Hilfs-Routinen</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">

Die hier vorgestellten Routinen sind verschiedene Hilfs-Routinen.
Bei einigen Routinen (z.B. <code>MOVE1</code>, <code>MOVE2</code> und <code>MOVE3</code>) wird auf eine Levelabh&auml;ngigkeit verwiesen.
Diese ist <a href="../Level.html">hier</a> erk&auml;rt.

<table>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td valign="top">Modul-<i>Entry</i></td>
  <td valign="top" colspan="2"><b>B:</b> Beschreibung, <b>I:</b> Eingabe-, <b>O:</b> Ausgabeparameter</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="SWITCH-MAC.txt">SWITCH.MAC</a></td>
</tr>
<tr>
  <td valign="top">SWITCH</td>
  <td valign="top">B:</td>
  <td valign="top">Indizierter Unterprogrammaufruf</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Akku h&auml;lt Wert (Zeichen) f&uuml;r Suche in Tabelle. Das Registerpaar HL zeigt auf diese Tabelle
<pre>
        DB      ZEICHEN1
        DW      ADRESSE1
        ..      ..
        DB      -1
        DW      FEHLER
</pre>
</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Sprung auf die entsprechende Routine des dazugeh&ouml;rigen Zeichens. Die Routine muss mit einer RET Anweisung abgeschlossen sein.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="JMPTAB-MAC.txt">JMPTAB.MAC</a></td>
</tr>
<tr>
  <td valign="top">JMPTAB</td>
  <td valign="top">B:</td>
  <td valign="top">Indizierter Sprung</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Akku h&auml;lt Wert (Zeichen) f&uuml;r Suche in Tabelle. Direkt hinter dem Aufruf <b>muss</b> sich die Adresse auf eine Tabelle befinden
<table>
<tr><td valign="top">Byte 0 :</td><td valign="top">Anzahl der Zeichen in der Tabelle</td></tr>
<tr><td valign="top">Byte 1 :</td><td valign="top">Zeichen 1</td></tr>
<tr><td valign="top">&nbsp;</td><td valign="top">..</td></tr>
<tr><td valign="top">Byte n :</td><td valign="top">Zeichen n</td></tr>
<tr><td valign="top">Wort 1 :</td><td valign="top">Adresse der Routine f&uuml;r Zeichen n</td></tr>
<tr><td valign="top">&nbsp;</td><td valign="top">..</td></tr>
<tr><td valign="top">Wort n :</td><td valign="top">Adresse der Routine f&uuml;r Zeichen 1</td></tr>
<tr><td valign="top"></td><td valign="top">
<pre>
        CALL    JMPTAB
        DW      TABELLE
</pre>
</td></tr>
</table>
</pre>
</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Sprung auf die entsprechende Routine oder weiter mit Instruktion hinter Tabellenzeiger, falls keine Zeichen&uuml;bereinstimmung vorliegt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="CALTAB-MAC.txt">CALTAB.MAC</a></td>
</tr>
<tr>
  <td valign="top">CALTAB</td>
  <td valign="top">B:</td>
  <td valign="top">Indizierter Unterprogrammaufruf</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Akku h&auml;lt Wert (Zeichen) f&uuml;r Suche in Tabelle. Direkt hinter dem Aufruf <b>muss</b> sich die Adresse auf eine Tabelle befinden (wie im Modul <code>JMPTAB</code>)</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Unterprogrammsprung auf die entsprechende Routine oder weiter mit Instruktion hinter Tabellenzeiger, falls keine Zeichen&uuml;bereinstimmung vorliegt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="CALJMP-MAC.txt">CALJMP.MAC</a></td>
</tr>
<tr>
  <td valign="top">@CALJP</td>
  <td valign="top">B:</td>
  <td valign="top">Hauptroutine f&uuml;r Module <code>CALTAB</code> und <code>JMPTAB</code></td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="MOVE1-MAC.txt">MOVE1.MAC</a></td>
</tr>
<tr>
  <td colspan="3" align="center"><a href="MOVE23-MAC.txt">MOVE23.MAC</a></td>
</tr>
<tr>
  <td valign="top">MOVE1</td>
  <td valign="top">B:</td>
  <td valign="top">Verschieben von Quelle zur Senke</td>
</tr>
<tr>
  <td valign="top">MOVE2</td>
  <td valign="top">I:</td>
  <td valign="top">Levelabh&auml;ngig</td>
</tr>
<tr>
  <td valign="top">MOVE3</td>
  <td valign="top">O:</td>
  <td valign="top">Registerpaar HL zeigt auf letztes Byte der Quelle, Registerpaar DE zeigt auf erstes Byte hinter der Senke</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="COMP1-MAC.txt">COMP1.MAC</a></td>
</tr>
<tr>
  <td colspan="3" align="center"><a href="COMP23-MAC.txt">COMP23.MAC</a></td>
</tr>
<tr>
  <td valign="top">COMP1</td>
  <td valign="top">B:</td>
  <td valign="top">Vergleich von Quelle und Senke</td>
</tr>
<tr>
  <td valign="top">COMP2</td>
  <td valign="top">I:</td>
  <td valign="top">Levelabh&auml;ngig</td>
</tr>
<tr>
  <td valign="top">COMP3</td>
  <td valign="top">O:</td>
  <td valign="top">Zeroflag nicht gesetzt falls Vergleich nicht &uuml;bereinstimmt. Bei gleichen Werten ist Zeroflag gesetzt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="CMPITM-MAC.txt">CMPITM.MAC</a></td>
</tr>
<tr>
  <td valign="top">CMPITM</td>
  <td valign="top">B:</td>
  <td valign="top">Vergleich einer Zeichenkette mit einem Datenfeld variabler L&auml;nge</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf das Datenfeld, dessen Elemente jeweils mit der L&auml;nge beginnen und dessen letzte Eintragung eine Null sein muss. Registerpaar DE zeigt auf die zu suchende Zeichenkette, dessen L&auml;nge im Register C enthalten sein muss.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zeroflag nicht gesetzt falls Vergleich nicht &uuml;bereinstimmt. Bei gleichen Werten ist Zeroflag gesetzt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="CMPCON-MAC.txt">CMPCON.MAC</a></td>
</tr>
<tr>
  <td valign="top">CMPCON</td>
  <td valign="top">B:</td>
  <td valign="top">Vergleich einer Zeichenkette mit einem Datenfeld fester L&auml;nge</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf das Datenfeld, dessen letzte Eintragung eine Null sein muss. Registerpaar DE zeigt auf die zu suchende Zeichenkette und Register C h&auml;lt die L&auml;nge der Elemente im Datenfeld</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zeroflag nicht gesetzt falls Vergleich nicht &uuml;bereinstimmt. Bei gleichen Werten ist Zeroflag gesetzt</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="FTCHOP-MAC.txt">FTCHOP.MAC</a></td>
</tr>
<tr>
  <td valign="top">@FTCOP</td>
  <td valign="top">B:</td>
  <td valign="top">Hilsprogramm f&uuml;r Module <code>MOVE1</code> und <code>COMP1</code></td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INDEXA-MAC.txt">INDEXA.MAC</a></td>
</tr>
<tr>
  <td valign="top">INDEXA</td>
  <td valign="top">B:</td>
  <td valign="top">Indizierte Adresse aus Tabelle laden</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Akku h&auml;lt Index und Registerpaar HL h&auml;lt den Start der Tabelle</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Registerpaar DE h&auml;lt 16 Bit Wert aus indizierter Tabelle, Registerpaar HL h&auml;lt Adresse auf indiziertes Element</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="MEMMOV-MAC.txt">MEMMOV.MAC</a></td>
</tr>
<tr>
  <td valign="top">MEMMOV</td>
  <td valign="top">B:</td>
  <td valign="top">Speicher kopieren mit Test, ob gen&uuml;gend Speicher vorhanden ist.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL zeigt auf Quelle, Register DE zeigt auf Senke und Register BC h&auml;lt Anzahl zu kopierender Bytes.
<br />Vor Aufruf sind folgende Inhalte festzulegen:
<table>
<tr><td valign="top"><code>MEMMOV-2</code>:</td><td valign="top">&nbsp;</td><td valign="top">Adresse einer Fehlermeldung f&uuml;r Konsolausgabe (Voreinstellung 0000H, keine Fehlermeldung)</td></tr>
<tr><td valign="top"><code>MEMMOV-4</code>:</td><td valign="top">&nbsp;</td><td valign="top">Adresse, die auf h&ouml;chste Speicheradresse zeigt (Voreinstellung 0006H, TPA Obergrenze)</td></tr>
<tr><td valign="top"><code>MEMMOV-6</code>:</td><td valign="top">&nbsp;</td><td valign="top">Adresse einer Routine, auf die nach einem Fehler verzweigt wird (Voreinstellung 0000H, Warmstart)</td></tr>
</table>
</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">---</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="BOUND-MAC.txt">BOUND.MAC</a></td>
</tr>
<tr>
  <td valign="top">BOUND</td>
  <td valign="top">B:</td>
  <td valign="top">Adresse auf Seitenanfang setzen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL h&auml;lt beliebige Adresse (<code>0xAAAA</code>)</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Registerpaar HL h&auml;lt Adresse auf Seitenanfang (<code>0xAA00</code>)</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="RAND8-MAC.txt">RAND8.MAC</a></td>
</tr>
<tr>
  <td valign="top">RAND8</td>
  <td valign="top">B:</td>
  <td valign="top">8 Bit Zufallszahl erzeugen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">&nbsp;</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Akku h&auml;lt Zufallszahl mit der Periode 256</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="RAND16-MAC.txt">RAND16.MAC</a></td>
</tr>
<tr>
  <td valign="top">RAND16</td>
  <td valign="top">B:</td>
  <td valign="top">16 Bit Zufallszahl erzeugen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">&nbsp;</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Registerpaar HL h&auml;lt Zufallszahl mit der Periode 65536</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>

</table>

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/VERSCHIE/VERSCHIE.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:33 GMT -->
</html>

