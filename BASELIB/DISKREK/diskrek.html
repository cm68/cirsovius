<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/DISKREK/DISKREK.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:28 GMT -->
<head><title>Routinen f&uuml;r rekordweise Diskettenoperationen</title></head>

<body  background="../../code.gif">

<div align="center">
<h1>Routinen f&uuml;r rekordweise Diskettenoperationen</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">

Die hier vorgestellten Routinen sind solche f&uuml;r zur Rekord Ein-/Ausgabe bei Diskettenoperationen.

<table>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td valign="top" colspan="2">Modul-<i>Entry</i></td>
  <td valign="top" colspan="2"><b>B:</b> Beschreibung, <b>I:</b> Eingabe-, <b>O:</b> Ausgabeparameter</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="DSKRED-MAC.txt">DSKRED.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">DSKRED</td>
  <td valign="top">B:</td>
  <td valign="top">Lesen eines sequentiellen Rekords von Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag gesetzt falls Datei nicht gefunden oder vollst&auml;ndig gelesen wurde, sonst nicht gesetzt.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="DSKWRT-MAC.txt">DSKWRT.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">DSKWRT</td>
  <td valign="top">B:</td>
  <td valign="top">Schreiben eines sequentiellen Rekords auf Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag ist gesetzt, falls Datei nicht gefunden wurde oder kein Platz mehr auf der Diskette ist, sonst nicht gesetzt.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="RNDRED-MAC.txt">RNDRED.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">RNDRED</td>
  <td valign="top">B:</td>
  <td valign="top">Lesen eines wahlweisen Rekords von Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag gesetzt, falls keine weiteren Rekords existieren oder die Datei nicht auf Diskette ist, sonst nicht gesetzt.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="RNDWRT-MAC.txt">RNDWRT.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">RNDWRT</td>
  <td valign="top">B:</td>
  <td valign="top">Schreiben eines wahlweisen Rekords auf Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag ist gesetzt, falls Datei nicht gefunden wurde oder kein Platz mehr auf der Diskette ist, sonst nicht gesetzt.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="FILEIO-MAC.txt">FILEIO.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">@FILIO</td>
  <td valign="top">B:</td>
  <td valign="top">Ausf&uuml;hren spezieller Diskettenfunktionen</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB und Akku h&auml;lt die auszuf&uuml;hrende BDOS Funktion</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag ist gesetzt falls die BDOS Funktion fehlerhaft ist (Code nicht Null), sonst nicht gesetzt. Akku h&auml;lt die Nummer des Extended Errorkode</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="SEARCH-MAC.txt">SEARCH.MAC</a></td>
</tr>
<tr>
  <td valign="top">SRCFRS</td>
  <td valign="top">SRFBUF</td>
  <td valign="top">B:</td>
  <td valign="top">Suche nach erstem Eintrag</td>
</tr>
<tr>
  <td valign="top">SRCNXT</td>
  <td valign="top">&nbsp;</td>
  <td valign="top">B:</td>
  <td valign="top">Suche nach n&auml;chstem Eintrag</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB bei erstem Aufruf, sonst beliebig. Das Feld SRFBUF muss die Adresse eines 128 Byte Puffers halten, die Voreinstellung ist der Standard DMA Puffer ab 0080H</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Normalfall ist die Carryflag nicht gesetzt und Registerpaar HL h&auml;lt die Adresse eines Namensfeldes einer FCB. Die Carryflag ist gesetzt, falls kein weiterer Eintrag gefunden wurde, oder bei einem Fehler.
<br /><b>Zwischen den Aufrufen darf keine andere Diskettenfunktion ausgef&uuml;hrt werden</b>
</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="SRCFIL-MAC.txt">SRCFIL.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">SRCFIL</td>
  <td valign="top">B:</td>
  <td valign="top">Suche nach Eintr&auml;gen mit der Erlaubnis der Ausf&uuml;hrung einer Diskettenfunktion</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB bei erstem Aufruf, sonst beliebig. Vor dem ersten Aufruf muss das Byte in SRCFIL-1 auf Null gesetzt sein.</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Normalfall ist die Carryflag nicht gesetzt und der gew&auml;hlte FCB ist gef&uuml;llt mit der gefundenen Datei. Die Carryflag ist gesetzt, falls kein weiterer Eintrag gefunden wurde, oder bei einem Fehler.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="RMLSEC-MAC.txt">RMLSEC.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">RMLSEC</td>
  <td valign="top">B:</td>
  <td valign="top">Lesen mehrerer sequentieller Rekords von Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse des FCB</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Carryflag gesetzt falls Datei nicht gefunden oder ein Lesefehler gefunden wurde, sonst nicht gesetzt. Im Extended Mode Verzweigung auf Fehlerroutine möglich. Wenn die Carryflag nicht gesetzt ist, so zeigt die Zeroflag das Leseergebnis an:
<br /><i>Flag gesetzt:</i> Alle gew&auml;hlten Sektoren sind gelesen worden
<br /><i>Flag nicht gesetzt:</i> Es wurde das Dateiende gefunden, der Akku h&auml;lt die Anzahl gelesener Rekords, wobei auch Null als Ergebnis vorkommen kann
</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
</table>

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/DISKREK/DISKREK.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:28 GMT -->
</html>

