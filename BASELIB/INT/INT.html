<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/INT/INT.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:31 GMT -->
<head><title>Routinen zum Arbeiten mit 32-Bit Zahlen</title></head>

<body  background="../../code.gif">

<div align="center">
<h1>Routinen zum Arbeiten mit 32-Bit Zahlen</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">

Die hier vorgestellten Routinen sind solche f&uuml;r die Verabeitung von Routinen mit 32-Bit Zahlen.
Einige Hinweise zum Format findet sich <a href="../Math32.html">hier</a>.

<table>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td valign="top" colspan="2">Modul-<i>Entry</i></td>
  <td valign="top"><b>B:</b> Beschreibung, <b>I:</b> Eingabe-, <b>O:</b> Ausgabeparameter</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/ADD32-MAC.txt">ADD32.MAC</a></td>
</tr>
<tr>
  <td valign="top">ADD32</td>
  <td valign="top">B:</td>
  <td valign="top">Addition zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf erste Zahl, Paar DE auf zweite und Paar HL auf Ergebnis</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Summe in Ergebnis abgelegt. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/SUB32-MAC.txt">SUB32.MAC</a></td>
</tr>
<tr>
  <td valign="top">SUB32</td>
  <td valign="top">B:</td>
  <td valign="top">Subtraktion zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf erste Zahl, Paar DE auf Subtrahenden und Paar HL auf Ergebnis</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Differenz in Ergebnis abgelegt. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/MUL32-MAC.txt">MUL32.MAC</a></td>
</tr>
<tr>
  <td valign="top">MUL32</td>
  <td valign="top">B:</td>
  <td valign="top">Multiplikation zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf erste Zahl, Paar DE auf zweite und Paar HL auf Ergebnis</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Produkt in Ergebnis abgelegt. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/DIV32-MAC.txt">DIV32.MAC</a></td>
</tr>
<tr>
  <td valign="top">DIV32</td>
  <td valign="top">B:</td>
  <td valign="top">Division zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf Dividenden, Paar DE auf Divisor und Paar HL auf Ergebnis</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Quotient in Ergebnis abgelegt. Bei &Uuml;berlauf oder Division durch Null ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/MOD32-MAC.txt">MOD32.MAC</a></td>
</tr>
<tr>
  <td valign="top">MOD32</td>
  <td valign="top">B:</td>
  <td valign="top">Ermitteln des Restes zweier 32 Bit Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf Dividenden, Paar DE auf Divisor und Paar HL auf Ergebnis</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Rest in Ergebnis abgelegt. Bei &Uuml;berlauf, negativem Divisor oder Division durch Null ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/NEG32-MAC.txt">NEG32.MAC</a></td>
</tr>
<tr>
  <td valign="top">NEG32</td>
  <td valign="top">B:</td>
  <td valign="top">Negation einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl negiert</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/SHL32-MAC.txt">SHL32.MAC</a></td>
</tr>
<tr>
  <td valign="top">SHL32</td>
  <td valign="top">B:</td>
  <td valign="top">Links schieben einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl um eine Stelle nach links geschoben</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/SHR32-MAC.txt">SHR32.MAC</a></td>
</tr>
<tr>
  <td valign="top">SHR32</td>
  <td valign="top">B:</td>
  <td valign="top">Rechts schieben einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl um eine Stelle nach rechts geschoben</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/DIN32-MAC.txt">DIN32.MAC</a></td>
</tr>
<tr>
  <td valign="top">DIN32</td>
  <td valign="top">B:</td>
  <td valign="top">Umwandlung einer Zeichenkette in eine vorzeichenlose 32 Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die Zeichenkette, HL zeigt auf die ganze Zahl und Register B h&auml;lt das Endzeichen der Kette. Steht in Register B -1, dann wird die Wandlung beim ersten nicht-numerischen Zeichen beendet.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Resultat in der ganzen Zahl abgelegt. Bei Zahlenfehler oder &Uuml;berlauf ist die Carry Flag gesetzt. Das Registerpaar zeigt auf das n&auml;chste Zeichen hinter der Zahl</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/SIN32-MAC.txt">SIN32.MAC</a></td>
</tr>
<tr>
  <td valign="top">SIN32</td>
  <td valign="top">B:</td>
  <td valign="top">Umwandlung einer Zeichenkette in eine 32 Bit Zahl mit Vorzeichen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die Zeichenkette, HL zeigt auf die ganze Zahl und Register B h&auml;lt das Endzeichen der Kette. Steht in Register B -1, dann wird die Wandlung beim ersten nicht-numerischen Zeichen beendet.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Resultat in der ganzen Zahl abgelegt. Bei Zahlenfehler oder &Uuml;berlauf ist die Carry Flag gesetzt. Das Registerpaar zeigt auf das n&auml;chste Zeichen hinter der Zahl</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/DOUT32-MAC.txt">DOUT32.MAC</a></td>
</tr>
<tr>
  <td valign="top">DOUT32</td>
  <td valign="top">B:</td>
  <td valign="top">Wandlung einer vorzeichenlosen 32 Bit Zahl in eine Zeichenkette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die Zeichenkette, HL zeigt auf die ganze Zahl und Register B h&auml;lt das Endzeichen der Kette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zeichenkette abgeschlossen mit Zeichen in Register B. Das Registerpaar HL zeigt auf den Abschluss</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/SOUT32-MAC.txt">SOUT32.MAC</a></td>
</tr>
<tr>
  <td valign="top">SOUT32</td>
  <td valign="top">B:</td>
  <td valign="top">Wandlung einer 32 Bit Zahl mit Vorzeichen in eine Zeichenkette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die Zeichenkette, HL zeigt auf die ganze Zahl und Register B h&auml;lt das Endzeichen der Kette</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zeichenkette abgeschlossen mit Zeichen in Register B. Das Registerpaar HL zeigt auf den Abschluss</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/C1632-MAC.txt">C1632.MAC</a></td>
</tr>
<tr>
  <td valign="top">C1632</td>
  <td valign="top">B:</td>
  <td valign="top">Expandieren einer 16 Bit Zahl in eine 32 Bit Zahl mit Vorzeichen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL h&auml;lt die 16 Bit Zahl, Registerpaar DE zeigt auf die 32 Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">32 Bit Zahl aus 16 Bit Zahl konstruiert</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/C3216-MAC.txt">C3216.MAC</a></td>
</tr>
<tr>
  <td valign="top">C3216</td>
  <td valign="top">B:</td>
  <td valign="top">Verk&uuml;rzen einer 32 Bit Zahl in eine 16 Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die 32 Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Registerpaar HL h&auml;lt die 16 Bit Zahl</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/C32FL-MAC.txt">C32FL.MAC</a></td>
</tr>
<tr>
  <td valign="top">C32FL</td>
  <td valign="top">B:</td>
  <td valign="top">Wandeln einer 32 Bit Zahl in eine Flie&szlig;kommazahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt auf die 32 Bit Zahl, HL zeigt auf die Flie&szlig;kommazahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Flie&szlig;kommazahl konstruiert aus ganzer Zahl</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT3/CFL32-MAC.txt">CFL32.MAC</a></td>
</tr>
<tr>
  <td valign="top">CFL32</td>
  <td valign="top">B:</td>
  <td valign="top">Wandeln einer Flie&szlig;kommazahl in eine 32 Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar HL zeigt auf die 32 Bit Zahl, DE zeigt auf die Flie&szlig;kommazahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Ganze Zahl konstruiert aus Flie&szlig;kommazahl. Carry Flag gesetzt bei nicht m&ouml;glicher Konvertierung</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr><td colspan="3">
<div align="center"><table border="1" width="75%" cellpadding="5"><tr><td bgcolor="#F4F4F4">
Die bisherigen Routinen sind die f&uuml;r die Programmierschnittstelle.
Die folgenden Routinen sind die internen, von den obigen Routinen aufgerufenen Module.
</td></tr></table></div>
</td></tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/ADDI32-MAC.txt">ADDI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$ADD32</td>
  <td valign="top">B:</td>
  <td valign="top">Addition zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die zweite Zahl. Die erste Zahl liegt auf dem Stack.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten die Summe. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/SUBI32-MAC.txt">SUBI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$SUB32</td>
  <td valign="top">B:</td>
  <td valign="top">Subtraktion zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die zweite Zahl. Die erste Zahl liegt auf dem Stack.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten die Differenz. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/MULI32-MAC.txt">MULI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$MUL32</td>
  <td valign="top">B:</td>
  <td valign="top">Multiplikation zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die zweite Zahl. Die erste Zahl liegt auf dem Stack.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten das Produkt. Bei &Uuml;berlauf ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/DIVI32-MAC.txt">DIVI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$DIV32</td>
  <td valign="top">B:</td>
  <td valign="top">Division zweier Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die zweite Zahl. Die erste Zahl liegt auf dem Stack.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten den Quotienten. Bei &Uuml;berlauf oder Division durch Null ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT2/MODI32-MAC.txt">MODI32.MAC</a></td>
</tr>
<tr>
  <td valign="top"></td>
  <td valign="top">B:</td>
  <td valign="top">Ermitteln des Restes zweier 32 Bit Zahlen</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die zweite Zahl. Die erste Zahl liegt auf dem Stack.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten den Rest. Bei &Uuml;berlauf, negativem Divisor oder Division durch Null ist die Carry Flag gesetzt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/SHLI32-MAC.txt">SHLI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$SHL32</td>
  <td valign="top">B:</td>
  <td valign="top">Links schieben einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar IX zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl um eine Stelle nach links geschoben</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/SHRI32-MAC.txt">SHRI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$SHR32</td>
  <td valign="top">B:</td>
  <td valign="top">Rechts schieben einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar IX zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl um eine Stelle nach rechts geschoben</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/NEGI32-MAC.txt">NEGI32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$NEG32</td>
  <td valign="top">B:</td>
  <td valign="top">Negation einer Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL und BC halten die Zahl.</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register HL und BC halten die negative Zahl.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/OP32-MAC.txt">OP32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$OP32</td>
  <td valign="top">B:</td>
  <td valign="top">Register laden und Operation ausf&uuml;hren</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar BC zeigt auf erste Zahl, Paar DE auf zweite Zahl und Paar HL h&auml;lt die Adresse der auszuf&uuml;hrenden Routine. Auf dem Stack liegt die Adresse des Ergebnisses</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Angeforderte Operation wird ausgef&uuml;hrt</td>
</tr>
<tr>
  <td valign="top">$LOD32</td>
  <td valign="top">B:</td>
  <td valign="top">Laden einer 32-Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register HL zeigt auf die Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Register DE und BC halten die Zahl</td>
</tr>
<tr>
  <td valign="top">$STO32</td>
  <td valign="top">B:</td>
  <td valign="top">Speichern einer 32-Bit Zahl</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Register DE und BC halten die Zahl, Register HL zeigt auf die Speicheradresse</td>
</tr>
<tr>
  <td valign="top">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Zahl unter Speicheradresse abgelegt.</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
<tr>
  <td colspan="3" align="center"><a href="INT1/FIX32-MAC.txt">FIX32.MAC</a></td>
</tr>
<tr>
  <td valign="top">$FIX32</td>
  <td valign="top">B:</td>
  <td valign="top">Interne Routine f&uuml;r Division und Modulo</td>
</tr>
<tr><td colspan="3"><hr /></td></tr>
</table>

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/INT/INT.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:31 GMT -->
</html>

