<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/DISKLIN/DISKLIN.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:29 GMT -->
<head><title>Routinen f&uuml;r zeilenorientierte Diskettenoperationen</title></head>

<body  background="../../code.gif">

<div align="center">
<h1>Routinen f&uuml;r zeilenorientierte Diskettenoperationen</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">

Die hier vorgestellten Routinen sind solche f&uuml;r zur zeilenweisen Ein-/Ausgaberoutinen mit Zeichen:

<table>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td valign="top" colspan="2">Modul-<i>Entry</i></td>
  <td valign="top" colspan="2"><b>B:</b> Beschreibung, <b>I:</b> Eingabe-, <b>O:</b> Ausgabeparameter</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="FILLIN-MAC.txt">FILLIN.MAC</a></td>
</tr>
<tr>
  <td valign="top">FILLIN</td>
  <td valign="top">FILMOD</td>
  <td valign="top">B:</td>
  <td valign="top">Einlesen einer Zeile von Diskette bis Line Feed</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE h&auml;lt Adresse auf den Zeilenpuffer, wobei das erste Byte in dem Puffer die maximale Anzahl einzulesender Zeichen angibt. Register B h&auml;lt Zeichen, das an das Ende des Puffers gespeichert wird (&uuml;blicherweise &#132;$" oder Null). Die Dateieingaberoutine kann ge&auml;ndert werden durch neue Adresse in FILMOD (Voreinstellung: GETEOF).</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die Prozessorflags sind wie folgt gesetzt:
<div style="margin-left:0.5cm">Zeroflag ist gesetzt bei leerem Puffer. Carryflag ist gesetzt bei Ende der Datei aber eingelesener Zeile. (Carry und Zero gesetzt zeigen dann das komplette Dateiende an). Der Akku h&auml;lt die L&auml;nge der Zeile inklusive Carriage Return und Line Feed. Register C h&auml;lt das zuletzt gelesene Zeichen</div>
</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="EMPLIN-MAC.txt">EMPLIN.MAC</a></td>
</tr>
<tr>
  <td valign="top">EMPLIN</td>
  <td valign="top">EMPMOD</td>
  <td valign="top">B:</td>
  <td valign="top">Ausgabe einer Zeile auf Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt h&auml;lt Adresse auf den Zeilenpuffer Register B h&auml;lt Zeichen, das das Ende des Puffers anzeigt (&uuml;blicherweise &#132;$" oder Null). Die Dateieausgaberoutine kann ge&auml;ndert werden durch neue Adresse in EMPMOD (Voreinstellung: DSKPUT).</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Fehlerfall ist die Carryflag gesetzt, sonst nicht.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="GETLNF-MAC.txt">GETLNF.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">GETLNF</td>
  <td valign="top">B:</td>
  <td valign="top">Einlesen einer Zeile von Diskette bis Line Feed</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt h&auml;lt Adresse auf den Zeilenpuffer, wobei das erste Byte in dem Puffer die maximale Anzahl einzulesender Zeichen angibt. Register B h&auml;lt Zeichen, das an das Ende des Puffers gespeichert wird (&uuml;blicherweise &#132;$" oder Null).<br />
<b>Die Dateieeingaberoutine muss vor dem Aufruf bestimmt werden durch neue Adresse in GETLNF-2</b></td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Die Prozessorflags sind wie folgt gesetzt:
<div style="margin-left:0.5cm">Zeroflag ist gesetzt bei leerem Puffer. Carryflag ist gesetzt bei Ende der Datei aber eingelesener Zeile. (Carry und Zero gesetzt zeigen dann das komplette Dateiende an). Der Akku h&auml;lt die L&auml;nge der Zeile inklusive Carriage Return und Line Feed, ebenso das zweite Byte des Puffers. Register C h&auml;lt das zuletzt gelesene Zeichen</div>
</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
<tr>
  <td colspan="4" align="center"><a href="STRNGF-MAC.txt">STRNGF.MAC</a></td>
</tr>
<tr>
  <td valign="top" colspan="2">STRNGF</td>
  <td valign="top">B:</td>
  <td valign="top">Ausgabe einer Zeile auf Diskette</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">I:</td>
  <td valign="top">Registerpaar DE zeigt h&auml;lt Adresse auf den Zeilenpuffer Register B h&auml;lt Zeichen, das das Ende des Puffers anzeigt (&uuml;blicherweise &#132;$" oder Null).<br />
<b>Die Dateieausgaberoutine muss vor dem Aufruf bestimmt werden durch neue Adresse in STRNGF-2</b>
</td>
</tr>
<tr>
  <td valign="top" colspan="2">&nbsp;</td>
  <td valign="top">O:</td>
  <td valign="top">Im Fehlerfall ist die Carryflag gesetzt, sonst nicht.</td>
</tr>
<tr><td colspan="4"><hr /></td></tr>
</table>

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/DISKLIN/DISKLIN.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:29 GMT -->
</html>

