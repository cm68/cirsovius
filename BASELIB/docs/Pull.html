<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/Pull.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:26 GMT -->
<head><title>Hinweise zu den Pull-Down-Routinen</title></head>

<body style="margin-left:2cm"
      background="../perforation.gif">

<table width="475"><tr><td>
<h1 align="center">Hinweise zu den Pull-Down-Routinen</h1>

<div align="center">
<table border="1" cellpadding="5">
<tr><td bgcolor="#FBE1CA"><a href="#Parameter">Parameter Bl&ouml;cke</a></td><td bgcolor="#FFCC66"><a href="#Speicherbedarf">Speicherbedarf</a></td><tr>
</table>
</div>

<a name="Parameter"><h2 align="center">Parameter Bl&ouml;cke</h2></a>

Der Parameterblock UPB ist definiert als:
<div style="margin-left:1cm">
<table>
<tr><td align="center" width="80pt"><span style="text-decoration:underline">Byte</span></td><td><span style="text-decoration:underline">Funktion</span></td></tr>
<tr><td align="center">0</td><td>Horizontale Cursorposition f&uuml;r den Fenstertext</td></tr>
<tr><td align="center">1</td><td>Vertikale Cursorposition f&uuml;r den Fenstertext</td></tr>
<tr><td align="center">2</td><td>L&auml;nge eines Fensterelementes</td></tr>
<tr><td align="center">3</td><td>Anzahl Fensterelemente</td></tr>
<tr><td align="center">4</td><td>Kontrollbyte - Siehe unten</td></tr>
<tr><td align="center">5</td><td>Feld zum Eintrag des aktuellen horizontalen Cursors</td></tr>
<tr><td align="center">6</td><td>Feld zum Eintrag des aktuellen vertikalen Cursors</td></tr>
<tr><td align="center">7,8</td><td>Adresse eines Datenfeldes f&uuml;r alte Bildschirmdaten</td></tr>
<tr><td align="center">9,10</td><td>Adresse einer Zeile f&uuml;r Eingabe</td></tr>
<tr><td align="center">11</td><td>Zeichen per Zeile inklusive Fensterelementen</td></tr>
<tr><td align="center">12</td><td>Zeilen im Fenster inklusive Fensterelemente</td></tr>
<tr><td align="center">13</td><td>Horizontale Cursorposition f&uuml;r das Fenster</td></tr>
<tr><td align="center">14</td><td>Vertikale Cursorposition f&uuml;r das Fenster</td></tr>
<tr><td align="center">15</td><td>Horizontale Cursorposition f&uuml;r Texteingabe</td></tr>
<tr><td align="center">16</td><td>Vertikale Cursorposition f&uuml;r Texteingabe</td></tr>
<tr><td align="center">17,18</td><td>Adresse f&uuml;r Texteingabe</td></tr>
</table>
</div>
<p></p>
Das Kontrollbyte (UPB+4) ist definiert als:
<div style="margin-left:1cm">
<table>
<tr><td width="50pt"><span style="text-decoration:underline">Bit</span></td><td colspan="2"><span style="text-decoration:underline">Funktion</span></td></tr>
<tr><td valign="top">0</td><td valign="top">Fensterelement</td><td>
<ul>
<li>0 : Einfacher Strich</li>
<li>1 : Doppelter  Strich</li>
</ul>
</td></tr>
<tr><td valign="top">1</td><td valign="top">Zwischenraum</td><td>
<ul>
<li>0 : Kein Zwischenraum</li>
<li>1 : Zwischenraum</li>
</ul>
</td></tr>
<tr><td valign="top">2</td><td valign="top">Fensterrichtung</td><td>
<ul>
<li>0 : Horizontal</li>
<li>1 : Vertikal</li>
</ul>
</td></tr>
<tr><td valign="top">3</td><td valign="top">Fensterfarbe</td><td>
<ul>
<li>0 : Normale Darstellung</li>
<li>1 : Invertierte Darstellung</li>
</ul>
</td></tr>
<tr><td valign="top">4</td><td valign="top">Cursor retten</td><td>
<ul>
<li>0 : Nicht retten</li>
<li>1 : Retten (in UPB+S,UPB+6)</li>
</ul>
</td></tr>
<tr><td valign="top">5</td><td valign="top">Fenster retten</td><td>
<ul>
<li>0 : Nicht retten</li>
<li>1 : Retten (in Adresse aus UPB+7,8)</li>
</ul>
</td></tr>
<tr><td valign="top">6</td><td valign="top">Art des Zwischenraums</td><td>
<ul>
<li>0 : Strich als Zwischenraum</li>
<li>1 : Leerzeichen als Zwischenraum</li>
</ul>
</td></tr>
<tr><td valign="top">7</td><td valign="top">Fenster zur&uuml;ckladen</td><td>
<ul>
<li>0 : Nicht zur&uuml;ckladen</li>
<li>1 : Zur&uuml;ckladen (von Adresse aus UPB+7,8)</li>
</ul>
</td></tr>
</table>
</div>
<p></p>
Die PDMCUL und PDMCUI Kontrollbytes sind definiert als:
<p></p>
<div style="margin-left:1cm">
<table>
<tr><td width="60"><span style="text-decoration:underline">Bit</span></td><td colspan="2"><span style="text-decoration:underline">Funktion</span></td></tr>
<tr><td>0</td><td colspan="2">Farbe bei Start der Auswahl</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Normal</li>
<li>1 : Invertiert</li>
</ul>
</td></tr>
<tr><td>1</td><td colspan="2">Farbe bei Ende der Auswahl</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Normal</li>
<li>1 : Invertiert</li>
</ul>
</td></tr>
<tr><td>2</td><td colspan="2">Cursor unsichtbar</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Unsichtbar machen</li>
<li>1 : Keine &Auml;nderung</li>
</ul>
</td></tr>
<tr><td>3</td><td colspan="2">Cursor sichtbar</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Sichtbar machen</li>
<li>1 : Keine &Auml;nderung</li>
</ul>
</td></tr>
<tr><td>4</td><td colspan="2">Ende bei RETURN oder ENTER</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Ende bei RETURN oder ENTER</li>
<li>1 : Ende bei anderer Taste (au&szlig;er Cursortaste)</li>
</ul>
</td></tr>
<tr><td>5</td><td colspan="2">Aufbau eines Fensters bei Aufruf (<b>Nur</b> PDMCUL)</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Fenster wird neu aufgebaut bei Aufruf</li>
<li>1 : Fenster wird nicht aufgebaut</li>
</ul>
</td></tr>
</table>
</div>
<p></p>
Die PDMXIO, PDMRET und PDMTXA Kontrollbytes sind definiert als:
<p></p>
<div style="margin-left:1cm">
<table>
<tr><td width="60"><span style="text-decoration:underline">Bit</span></td><td colspan="2"><span style="text-decoration:underline">Funktion</span></td></tr>
<tr><td>0</td><td colspan="2">Farbe bei Start der Ausgabe</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Normal</li>
<li>1 : Invertiert</li>
</ul>
</td></tr>
<tr><td>1</td><td colspan="2">Farbe bei Ende der Ausgabe</td></tr>
<tr><td colspan="2">&nbsp;</td><td>
<ul>
<li>0 : Normal</li>
<li>1 : Invertiert</li>
</ul>
</td></tr>
</table>
</div>

<hr />

<a name="Speicherbedarf"><h2 align="center">Speicherbedarf</h2></a>

Der PCW speichert jedes Zeichen ab als eine 8x8 Bit Matrix, also in 8 Bytes.
Dies ist zu ber&uuml;cksichtigen bei der Bereitstellung von Speicher zum Retten von Fenstern.
Au&szlig;erdem ist der unterschiedliche Speicherbedarf f&uuml;r horizontale und vertikale Richtung zu beachten.
<p></p>
<table>
<tr><td width="50pt">Mit</td><td>L</td><td>&nbsp;</td><td>L&auml;nge eines Fensterelementes</td><td>Aus UPB+2</td></tr>
<tr><td>&nbsp;</td><td>E</td><td>&nbsp;</td><td>Anzahl Elemente im Fenster</td><td>Aus UPB+3</td></tr>
<tr><td>&nbsp;</td><td>D</td><td>= 1</td><td>Bei Zwischenr&auml;umen</td><td>Aus Bit 1 [UPB+4]</td></tr>
<tr><td>&nbsp;</td><td>&nbsp;</td><td>= 0</td><td>Ohne Zwischenraum</td><td>&nbsp;</td></tr>
</table>
<p></p>
wird
<div style="margin-left:1cm">
<table>
<tr><td>Horizontal</td><td>(L+2)*(E+2+D*[E-1])*8</td><td>Bytes</td></tr>
<tr><td>Vertikal</td><td>(L*E+2+D*[E-1])*3*8</td><td>Bytes</td></tr>
<tr><td colspan="3">&nbsp;</td></tr>
<tr><td colspan="2">Richtung aus Bit 2 [UPB+4] (siehe oben)</td><td>&nbsp;</td></tr>
</table>
</div>
</td></tr></table>

</body>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/Pull.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:26 GMT -->
</html>

