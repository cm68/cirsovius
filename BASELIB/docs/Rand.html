<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/Rand.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:26 GMT -->
<head><title>Hinweise zu den Disk-Routinen mit Random Record Dateien</title></head>

<body style="margin-left:2cm"
      background="../perforation.gif">

<table width="475"><tr><td>
<h1 align="center">Hinweise zu den Disk-Routinen mit Random Record Dateien</h1>

Die Random Rekord Dateien werden &uuml;ber einen Parameterblock angesprochen.
Dieser wird in der Routine <b>$RNDRG</b> in die CPU Register geladen.
Aufbau und Register sind:
<p></p>
Registerpaar DE h&auml;lt Parameter Block und wird in das Register IX geladen.
<p></p>
<div style="margin-left:1cm">
<table>
<tr><td>PB+0</td><td>Rekord L&auml;nge</td><td>Akku</td></tr>
<tr><td>PB+1,2</td><td>Rekord Nummer</td><td>Registerpaar BC</td></tr>
<tr><td>PB+3,4</td><td>FCB der Datei</td><td>Registerpaar DE</td></tr>
<tr><td>PB+5,6</td><td>128 Byte DMA Puffer</td><td>Register IY</td></tr>
<tr><td>PB+7,8</td><td>Rekord Daten Puffer</td><td>Registerpaar HL</td></tr>
<tr><td>PB+9,10</td><td>H&ouml;chster Rekord in Datei</td><td>entf&auml;llt</td></tr>
</table>
</div>
<p></p>
Bei der Initialisierung einer Datei mit <b>INIREC</b> und <b>FIXREC</b> steht in PB+1,2 die maximale Anzahl Rekords.
Es werden bei der Initialisierung neue Rekords beschrieben mit dem Inhalt des Rekord Daten Puffers.
<br />
<b>FIXREC</b> ben&ouml;tigt den h&ouml;chsten Rekord in PB+9,10.
Abh&auml;ngig vom h&ouml;chsten Rekord und dem gew&uuml;nschten wird die Datei entweder verk&uuml;rzt oder erweitert.

</td></tr></table>
</body>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/Rand.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:09:26 GMT -->
</html>

