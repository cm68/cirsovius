<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 //EN">
<html>

<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/BASELIB-en.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:12:28 GMT -->
<head>
<title>Library</title>
<meta name="description" content="CP/M Library">
<meta name="keywords" content="JOYCE, PCW, CP/M, Library">
<meta name="author" content="Werner Cirsovius">
</head>

<body background="../code.gif">

<div align="center">
<h1>Library</h1>

<table width="90%" border="1" cellpadding="5">
<tr><td bgcolor="#26D9FF">
<div align="center"><img src="../../../gif/flag_en.gif" /><font color="red"><i>Auto translated from German</i></font></div>
<br />
My first programming attempts on the JOYCE were with the CP/M 2.2 Assembler ASM, because at that time I only had a manual from it. Completely unsatisfactory was the fact that the ASM had to have a single file as a source - a strain for longer programs! When I got documents about the RMAC, this became different because the RMAC allowed to move . REL (relocatable, reassignable) files, which could later be merged with a linker to form a file.
<br />
The advantage here is that program parts (modules) can be assembled in advance. These can then be managed with a utility (Librarian) in a library. After assembling the main program (which can also consist of individual modules), the linker is then instructed to add modules needed from the library.
<br />
I used the following development package at the time:

<ul>
<li><b>Assembler</b>: First, the <i>RMAC</i> from Digital
Research, which came with CP/M PLUS. Then the <i>M80</i> from
Microsoft. In addition to the RMAC, which only knew the 8080
mnemonics, it was now also possible to program in <a href=
"https://clrhome.org/table/">Z80-Mnemonic.</a> Later came the
<i>SLR</i>assembler, which was very fast, but only recognized
Z80-Mnemonics.<br>
What all assemblers have in common is that they support the
<a href="../Assembler/REL80/REL80FORMAT.html"> Microsoft REL format</a> (<a href="https://www.seasip.info/Cpm/rel.html">here in English</a>).
</li>
<li><b>Linker</b>: From the outset, only <i>LINK</i> from Digital
Research was used for me. This program supports the generation of
an RSX file and, to some extent, the overlay mechanism.</li>
<li><b>Librarian:</b>Again, I used a product from Digital
Research, namely <i>LIB</i>. <i>LIB</i> supports indexed REL
(IRL) format. This means that libraries are searched more
quickly. Here is a description of the <a href="../Assembler/REL80/IRLFORMAT.html"> DR-IRL format</a> (<a href="https://www.seasip.info/Cpm/irl.html">here in
English</a>).</li>
<li><b>Debugger:</b>There are some more comfortable debuggers,
but also here I have applied a product from Digital Research,
first <i>SID,</i>later then <i>ZSID.</i> <i>ZSID</i> has the same
functionality as <i>SID</i>, but with support for Z80 syntax.
However, there were problems with the breakpoint at the beginning
- there were conflicts with the JOYCE interrupt vector.</li>
</ul>
<hr />
Since many definitions in the modules (e.g. BDOS functions)
are needed again and again, I have written a module that should
be inserted into the source code of the modules, for example,
with the assembler command. The same applies to assembly
programming in general. There is also such a definition file for this:
<hr />
Some references to the library can be found <a href= "Hints.html">
here</a>. The built library consists of the following groups, whose routines are listed <a href= "ABC.html">
here</a> in alphabetical order:</font>
<p />
<code style="margin-left:2cm">maclib <a href="LIBS/BASELIB-LIB.txt"> baselib.lib</a></code>
<p />
<p />
<p />
<code style="margin-left:2cm">maclib <a href="LIBS/BASE80-LIB.txt"> base80.lib</a></code>
<hr />

<div align="center">
<table border="1" cellpadding="5">
<tr>
  <td align="center" valign="top" bgcolor="#FFFF99"><a href="Zeichen.html">Working with characters</a></td>
  <td align="center" valign="top" bgcolor="#FFCC99"><a href="Disk.html">Working with files</a></td>
</tr>
<tr>
  <td align="center" valign="top" bgcolor="#FFCC66"><a href="Mathe.html">Working with mathematical routines</a></td>
  <td align="center" valign="top" bgcolor="#FBE1CA"><a href="Hochsprachen.html">Working with high-speech routines</a></td>
</tr>
<tr>
  <td align="center" valign="top" bgcolor="#EEEEF1"><a href="PullDown.html">Working with pull-down routines</a></td>
  <td align="center" valign="top" bgcolor="#C0C0C0"><a href="Verschieden.html">Miscellaneous</a></td>
</tr>
</table>
</div>

<p />

When designing the library, it is important to pay attention to a particular order, see <a href="BASELIBrel.html">here</a>
<p /> Here are two
other notable libraries I&#39;ve worked with:

<div align="center">
<table border="1" cellpadding="5">
<tr><td align="left" valign="top" bgcolor="#FFCC99">
<ul>
<li>
<a href="../xLIBS/SYSLIB/V4libs-en.html"><b>SYSLIB</b></a>is a collection of routines mainly for the ZCPR
environment. (If I had known SYSLIB when I wrote my library, I
would have been spared reinventing the wheel). SYSLIB is
compatible with the Microsoft REL format and consists of the
following modules:

<ul>
<li><b>SYSLIB</b>: general routines
</li>
<li><b>Z3LIB</b>: ZCPR3 Routines
</li>
<li><b>ZSLIB</b>: ZSDOS Clock Routines
</li>
<li><b>VLIB</b>: Video routines for ZCPR3 systems
</li>
<li><b>DSLIB</b>: Clock Routines
</li>
</ul>

</li>
<li>
<a href="../xLIBS/ZSM/ZSM-en.html"><b>ZSMLIB</b></a> is a collection of C-like routines.
Unfortunately, ZSMLIB is not compatible with the Microsoft REL
format. There is a separate assembler, linker and librarian.
However, the syntax of the assembler is different from that of
the M80, do that the sources are also incompatible.
</li>
</ul>
</td></tr>
</table>
</div>
<!-- ############################################################ -->

</td></tr></table>
</div>

</body>


<!-- Mirrored from www.cirsovius.de/CPM/Projekte/BASELIB/BASELIB-en.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Aug 2016 11:12:28 GMT -->
</html>

